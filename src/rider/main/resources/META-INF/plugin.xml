<idea-plugin url="https://github.com/JetBrains/JitAsmViewer" require-restart="true">
  <id>com.jetbrains.rider.plugins.dotnetdisassembler</id>
  <name>.NET Disassembler</name>
  <vendor url="https://www.jetbrains.com">JetBrains</vendor>
  <depends>com.intellij.modules.rider</depends>


  <extensions defaultExtensionNs="com.intellij">

    <fileType name="JitAsm"
              implementationClass="com.jetbrains.rider.plugins.dotnetdisassembler.language.AsmFileType"
              fieldName="INSTANCE"
              language="JitAsm"
              extensions="jitasm"/>
    <lang.syntaxHighlighterFactory language="JitAsm"
                                   implementationClass="com.jetbrains.rider.plugins.dotnetdisassembler.language.AsmSyntaxHighlighterFactory"/>

    <toolWindow id="AsmViewer"
                canCloseContents="false"
                icon="AllIcons.Debugger.Db_primitive"
                anchor="right"
                factoryClass="com.jetbrains.rider.plugins.dotnetdisassembler.AsmViewerToolWindowFactory"/>

    <rd.solutionExtListener endpoint="IDE Frontend"
                            listener="com.jetbrains.rider.plugins.dotnetdisassembler.AsmViewerHost$ProtocolListener"/>

    <statistics.counterUsagesCollector
        implementationClass="com.jetbrains.rider.plugins.dotnetdisassembler.statistics.AsmViewerStatisticsCollector"/>

  </extensions>
    <actions resource-bundle="messages.AsmViewerBundle">
        <!-- Show ASM Viewer Action -->
        <action id="com.jetbrains.rider.plugins.dotnetdisassembler.ShowAsmViewerAction"
                class="com.jetbrains.rider.plugins.dotnetdisassembler.ShowAsmViewerAction">
            <add-to-group group-id="ToolsMenu" anchor="after" relative-to-action="RiderShowIlViewerAction"/>
        </action>
    </actions>
</idea-plugin>

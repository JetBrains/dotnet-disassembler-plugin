<idea-plugin url="https://github.com/JetBrains/JitAsmViewer" require-restart="true">
  <id>com.jetbrains.rider.plugins.jitasmviewer</id>
  <name>JIT Assembly Viewer</name>
  <version>_PLACEHOLDER_</version>
  <vendor url="https://www.jetbrains.com">JetBrains</vendor>
  <idea-version since-build="_PLACEHOLDER_" until-build="_PLACEHOLDER_" />
  <depends>com.intellij.modules.rider</depends>

  <description><![CDATA[]]></description>

  <extensions defaultExtensionNs="com.intellij">

    <fileType name="JitAsm"
              implementationClass="com.jetbrains.rider.plugins.jitasmviewer.language.AsmFileType"
              fieldName="INSTANCE"
              language="JitAsm"
              extensions="jitasm"/>
    <lang.syntaxHighlighterFactory language="JitAsm"
                                   implementationClass="com.jetbrains.rider.plugins.jitasmviewer.language.AsmSyntaxHighlighterFactory"/>

    <toolWindow id="AsmViewer"
                canCloseContents="false"
                icon="AllIcons.Debugger.Db_primitive"
                anchor="right"
                factoryClass="com.jetbrains.rider.plugins.jitasmviewer.AsmViewerToolWindowFactory"/>

    <rd.solutionExtListener endpoint="IDE Frontend"
                            listener="com.jetbrains.rider.plugins.jitasmviewer.AsmViewerHost$ProtocolListener"/>

    <statistics.counterUsagesCollector
        implementationClass="com.jetbrains.rider.plugins.jitasmviewer.statistics.AsmViewerStatisticsCollector"/>

  </extensions>
    <actions resource-bundle="messages.AsmViewerBundle">
        <!-- Show ASM Viewer Action -->
        <action id="com.jetbrains.rider.plugins.jitasmviewer.ShowAsmViewerAction"
                class="com.jetbrains.rider.plugins.jitasmviewer.ShowAsmViewerAction">
            <add-to-group group-id="ToolsMenu" anchor="after" relative-to-action="RiderShowIlViewerAction"/>
        </action>
    </actions>
</idea-plugin>
